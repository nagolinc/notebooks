{
  "last_node_id": 285,
  "last_link_id": 615,
  "nodes": [
    {
      "id": 11,
      "type": "TripleCLIPLoader",
      "pos": [
        -1885,
        -49
      ],
      "size": {
        "0": 315,
        "1": 106
      },
      "flags": {},
      "order": 0,
      "mode": 0,
      "outputs": [
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            5,
            94
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "TripleCLIPLoader"
      },
      "widgets_values": [
        "clip_g.safetensors",
        "clip_l.safetensors",
        "t5xxl_fp8_e4m3fn.safetensors"
      ]
    },
    {
      "id": 68,
      "type": "ConditioningSetTimestepRange",
      "pos": [
        -1010,
        167
      ],
      "size": {
        "0": 317.4000244140625,
        "1": 82
      },
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [
        {
          "name": "conditioning",
          "type": "CONDITIONING",
          "link": 90
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            91
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ConditioningSetTimestepRange"
      },
      "widgets_values": [
        0.1,
        1
      ]
    },
    {
      "id": 70,
      "type": "ConditioningSetTimestepRange",
      "pos": [
        -1006,
        314
      ],
      "size": {
        "0": 317.4000244140625,
        "1": 82
      },
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [
        {
          "name": "conditioning",
          "type": "CONDITIONING",
          "link": 93,
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            92
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ConditioningSetTimestepRange"
      },
      "widgets_values": [
        0,
        0.1
      ]
    },
    {
      "id": 67,
      "type": "ConditioningZeroOut",
      "pos": [
        -1370,
        337
      ],
      "size": {
        "0": 211.60000610351562,
        "1": 26
      },
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [
        {
          "name": "conditioning",
          "type": "CONDITIONING",
          "link": 580
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            90
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ConditioningZeroOut"
      }
    },
    {
      "id": 266,
      "type": "Note",
      "pos": [
        -2352,
        576
      ],
      "size": {
        "0": 308.061279296875,
        "1": 102.86902618408203
      },
      "flags": {},
      "order": 1,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "Resolution should be around 1 megapixel and width/height must be multiple of 64"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 13,
      "type": "ModelSamplingSD3",
      "pos": [
        -974,
        -220
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {
        "collapsed": false
      },
      "order": 10,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 565
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            591
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ModelSamplingSD3"
      },
      "widgets_values": [
        3
      ]
    },
    {
      "id": 69,
      "type": "ConditioningCombine",
      "pos": [
        -662,
        165
      ],
      "size": {
        "0": 228.39999389648438,
        "1": 46
      },
      "flags": {},
      "order": 18,
      "mode": 0,
      "inputs": [
        {
          "name": "conditioning_1",
          "type": "CONDITIONING",
          "link": 91
        },
        {
          "name": "conditioning_2",
          "type": "CONDITIONING",
          "link": 92
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            592
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ConditioningCombine"
      }
    },
    {
      "id": 233,
      "type": "PreviewImage",
      "pos": [
        535.1143750722272,
        -147.92548481673106
      ],
      "size": {
        "0": 604.7489624023438,
        "1": 592.15576171875
      },
      "flags": {},
      "order": 21,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 599
        }
      ],
      "properties": {
        "Node name for S&R": "PreviewImage"
      }
    },
    {
      "id": 231,
      "type": "VAEDecode",
      "pos": [
        141,
        -177
      ],
      "size": {
        "0": 210,
        "1": 46
      },
      "flags": {},
      "order": 20,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 596
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 557
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            599
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "VAEDecode"
      }
    },
    {
      "id": 271,
      "type": "KSampler",
      "pos": [
        -269,
        -179
      ],
      "size": {
        "0": 315,
        "1": 446
      },
      "flags": {},
      "order": 19,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 591
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 595
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 592
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 593
        },
        {
          "name": "seed",
          "type": "INT",
          "link": 597,
          "widget": {
            "name": "seed"
          },
          "slot_index": 4
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            596
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "KSampler"
      },
      "widgets_values": [
        196378094239983,
        "fixed",
        28,
        4.5,
        "dpmpp_2m",
        "sgm_uniform",
        1
      ]
    },
    {
      "id": 135,
      "type": "EmptySD3LatentImage",
      "pos": [
        -2352,
        438
      ],
      "size": {
        "0": 315,
        "1": 106
      },
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            593
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "EmptySD3LatentImage"
      },
      "widgets_values": [
        1024,
        1024,
        1
      ]
    },
    {
      "id": 252,
      "type": "CheckpointLoaderSimple",
      "pos": [
        -2314,
        -203
      ],
      "size": {
        "0": 746.7357788085938,
        "1": 98
      },
      "flags": {},
      "order": 3,
      "mode": 0,
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            565
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [],
          "shape": 3,
          "slot_index": 1
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            557
          ],
          "shape": 3,
          "slot_index": 2
        }
      ],
      "properties": {
        "Node name for S&R": "CheckpointLoaderSimple"
      },
      "widgets_values": [
        "sdv3\\2b_1024\\sd3_medium.safetensors"
      ]
    },
    {
      "id": 276,
      "type": "Text box",
      "pos": [
        -2233,
        897
      ],
      "size": {
        "0": 400,
        "1": 200
      },
      "flags": {},
      "order": 4,
      "mode": 0,
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            604
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "Text box"
      },
      "widgets_values": [
        "You are an LLM for Transforming Simple Descriptions into Elaborate Narratives\nObjective:\n\nTransform basic image descriptions into rich, detailed narratives that not only describe the visual aspects but also evoke emotions and provide a deeper context. The response should enhance the simplicity of the input into a more artistic and engaging text.\nInstructions:\n\n    Read the Input Carefully: Understand the core elements of the description provided (e.g., subject, setting).\n    Enhance Description: Expand on the visual details by adding elements such as lighting, mood, camera specifics, and resolution to create a more immersive image.\n    Invoke Emotions and Atmosphere: Use emotive language and descriptive adjectives to build an atmosphere around the subject.\n    Incorporate Technical Excellence: If applicable, mention technical aspects such as camera type, technique, or resolution to emphasize the quality and detail of the image.\n    Create a Narrative: Beyond describing the scene, tell a story that invites the viewer into the image's world.\n\nExamples:\n\nExample 1:\n\n    Input: \"A man fishing at sunset\"\n    Output:\n    Picture an evocative scene of a lone fisherman silhouetted against the fiery canvas of the sunset, captured with the precision of a Nikon D850 in high resolution. The serene waters mirror the spectacular colors of the dusk, while the gentle ripples around the fishing rod whisper tales of patience and persistence. The soft, golden light enhances the contemplative mood, making this not just a photograph, but a moment frozen in time, offering a window into the tranquil joys of solitary pursuits.\n\nExample 2:\n\n    Input: \"A child playing in the park\"\n    Output:\n    Imagine a vibrant tableau of youthful exuberance, as a small child dances under the sun-dappled leaves of an old oak tree in the park. Captured through the dynamic range of a Sony A7R IV, the scene bursts with colors so vivid that every laughter and playful gesture feels alive. The image is bathed in the golden glow of afternoon light, casting whimsical shadows that dance along with the child. This photograph is a celebration of childhood, rendered in exquisite detail and joyful vitality.\n\nExample 3:\n\n    Input: \"A cat sleeping on a windowsill\"\n    Output:\n    Envision a peaceful scene of a cat, curled up in the soft embrace of a warm sunbeam on a quaint windowsill. The image, taken with a Canon EOS 5D Mark IV, captures the essence of serenity and comfort. The delicate play of light and shadow highlights the gentle rise and fall of the catâ€™s breathing, while the outside world blurs into a bokeh of greens and blues, symbolizing the blissful isolation of a nap in the sun. This is not merely a snapshot; it is a tranquil portrait of domestic tranquility.\n\nThese examples should guide the LLM in crafting responses that transform simple descriptions into detailed, engaging, and context-rich narratives.\n\n\nUSER:"
      ]
    },
    {
      "id": 279,
      "type": "Text box",
      "pos": [
        -2238,
        1327
      ],
      "size": {
        "0": 400,
        "1": 200
      },
      "flags": {},
      "order": 5,
      "mode": 0,
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            606
          ],
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "Text box"
      },
      "widgets_values": [
        "ASSISTANT:"
      ]
    },
    {
      "id": 6,
      "type": "CLIPTextEncode",
      "pos": [
        -1872,
        267
      ],
      "size": {
        "0": 389.06927490234375,
        "1": 207.84902954101562
      },
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 5
        },
        {
          "name": "text",
          "type": "STRING",
          "link": 611,
          "widget": {
            "name": "text"
          }
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            595
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "Behold a captivating portrait of a red-haired beauty, expertly captured through the lens of a Leica, a legendary camera renowned for its unparalleled clarity and depth. The image is a masterful study in shadowplay, with the delicate interplay of light and darkness creating an atmosphere of intrigue and allure.\n\nThe gorgeous lighting, with its soft, ethereal quality, bathes the subject in a warm and inviting glow, illuminating her striking features and the pretty freckles that dust her porcelain skin like a scattering of stars. The subtle pastel hues that infuse the image lend a dreamy, otherworldly quality, as if the viewer has been granted a glimpse into a secret, enchanted realm.\n\nThe portrait, rendered in stunning 8K resolution, is a true testament to the power of artistry and technology, and is not merely a photograph; it is a visual poem, a love letter to the beauty and mystery of the human spirit."
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 272,
      "type": "PrimitiveNode",
      "pos": [
        -2342,
        278
      ],
      "size": {
        "0": 210,
        "1": 82
      },
      "flags": {},
      "order": 6,
      "mode": 0,
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            597
          ],
          "slot_index": 0,
          "widget": {
            "name": "seed"
          }
        }
      ],
      "title": "Seed",
      "properties": {
        "Run widget replace on values": false
      },
      "widgets_values": [
        196378094239983,
        "randomize"
      ]
    },
    {
      "id": 71,
      "type": "CLIPTextEncode",
      "pos": [
        -1900,
        570
      ],
      "size": {
        "0": 380.4615783691406,
        "1": 102.07693481445312
      },
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 94
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            93,
            580
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "title": "CLIP Text Encode (Negative Prompt)",
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "bad quality, poor quality, doll, disfigured, jpg, toy, bad anatomy, missing limbs, missing fingers, 3d, cgi"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 277,
      "type": "Text Concatenate",
      "pos": [
        -1633,
        991
      ],
      "size": {
        "0": 315,
        "1": 178
      },
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [
        {
          "name": "text_a",
          "type": "STRING",
          "link": 604,
          "widget": {
            "name": "text_a"
          }
        },
        {
          "name": "text_b",
          "type": "STRING",
          "link": 605,
          "widget": {
            "name": "text_b"
          },
          "slot_index": 1
        },
        {
          "name": "text_c",
          "type": "STRING",
          "link": 606,
          "widget": {
            "name": "text_c"
          },
          "slot_index": 2
        },
        {
          "name": "text_d",
          "type": "STRING",
          "link": null,
          "widget": {
            "name": "text_d"
          }
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            603
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "Text Concatenate"
      },
      "widgets_values": [
        "\\n",
        "true",
        "",
        "",
        "",
        ""
      ]
    },
    {
      "id": 274,
      "type": "Call LLM Basic",
      "pos": [
        -1147,
        933
      ],
      "size": {
        "0": 400,
        "1": 200
      },
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [
        {
          "name": "LLM",
          "type": "LLM",
          "link": 615,
          "slot_index": 0
        },
        {
          "name": "prompt",
          "type": "STRING",
          "link": 603,
          "widget": {
            "name": "prompt"
          },
          "slot_index": 1
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            608,
            611
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "Call LLM Basic"
      },
      "widgets_values": [
        "",
        0,
        0.8,
        393,
        "randomize"
      ]
    },
    {
      "id": 285,
      "type": "Load LLM Model Advanced",
      "pos": [
        -1581,
        1264
      ],
      "size": {
        "0": 315,
        "1": 826
      },
      "flags": {},
      "order": 7,
      "mode": 0,
      "outputs": [
        {
          "name": "LLM",
          "type": "LLM",
          "links": [
            615
          ],
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "Load LLM Model Advanced"
      },
      "widgets_values": [
        "Nous-Hermes-2-Mistral-7B-DPO.Q5_K_M.gguf",
        506,
        "LLAMA_SPLIT_LAYER",
        0,
        0,
        false,
        true,
        false,
        657,
        "randomize",
        2048,
        512,
        0,
        0,
        "LLAMA_ROPE_SCALING_UNSPECIFIED",
        0,
        0,
        -1,
        1,
        32,
        1,
        0,
        0,
        false,
        false,
        false,
        64,
        "",
        0,
        "",
        false,
        "llama-2",
        true
      ]
    },
    {
      "id": 278,
      "type": "Text box",
      "pos": [
        -2860,
        1110
      ],
      "size": {
        "0": 400,
        "1": 200
      },
      "flags": {},
      "order": 8,
      "mode": 0,
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            605
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "Text box"
      },
      "widgets_values": [
        "a man holds a banana"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 281,
      "type": "PrimereTextOutput",
      "pos": [
        -606,
        640
      ],
      "size": [
        583.8583829059871,
        343.7747386790918
      ],
      "flags": {},
      "order": 16,
      "mode": 0,
      "inputs": [
        {
          "name": "text",
          "type": "STRING",
          "link": 608,
          "widget": {
            "name": "text"
          }
        }
      ],
      "properties": {
        "Node name for S&R": "PrimereTextOutput"
      },
      "widgets_values": [
        "",
        "\nWitness a quirky yet charming scene captured through the lens of a Fujifilm X-T3 camera with striking clarity. A man, his face aglow with amusement, clutches a ripe yellow banana in one hand. The playful contrast of the man's serious attire against the whimsical prop invites a sense of delight and intrigue. The warm lighting casts a subtle glow on both subject and fruit, creating an atmosphere of casual charm. This photograph transcends its simple premise to become a study in human expression, humor, and the unexpected beauty found in ordinary moments."
      ]
    }
  ],
  "links": [
    [
      5,
      11,
      0,
      6,
      0,
      "CLIP"
    ],
    [
      90,
      67,
      0,
      68,
      0,
      "CONDITIONING"
    ],
    [
      91,
      68,
      0,
      69,
      0,
      "CONDITIONING"
    ],
    [
      92,
      70,
      0,
      69,
      1,
      "CONDITIONING"
    ],
    [
      93,
      71,
      0,
      70,
      0,
      "CONDITIONING"
    ],
    [
      94,
      11,
      0,
      71,
      0,
      "CLIP"
    ],
    [
      557,
      252,
      2,
      231,
      1,
      "VAE"
    ],
    [
      565,
      252,
      0,
      13,
      0,
      "MODEL"
    ],
    [
      580,
      71,
      0,
      67,
      0,
      "CONDITIONING"
    ],
    [
      591,
      13,
      0,
      271,
      0,
      "MODEL"
    ],
    [
      592,
      69,
      0,
      271,
      2,
      "CONDITIONING"
    ],
    [
      593,
      135,
      0,
      271,
      3,
      "LATENT"
    ],
    [
      595,
      6,
      0,
      271,
      1,
      "CONDITIONING"
    ],
    [
      596,
      271,
      0,
      231,
      0,
      "LATENT"
    ],
    [
      597,
      272,
      0,
      271,
      4,
      "INT"
    ],
    [
      599,
      231,
      0,
      233,
      0,
      "IMAGE"
    ],
    [
      603,
      277,
      0,
      274,
      1,
      "STRING"
    ],
    [
      604,
      276,
      0,
      277,
      0,
      "STRING"
    ],
    [
      605,
      278,
      0,
      277,
      1,
      "STRING"
    ],
    [
      606,
      279,
      0,
      277,
      2,
      "STRING"
    ],
    [
      608,
      274,
      0,
      281,
      0,
      "STRING"
    ],
    [
      611,
      274,
      0,
      6,
      1,
      "STRING"
    ],
    [
      615,
      285,
      0,
      274,
      0,
      "LLM"
    ]
  ],
  "groups": [
    {
      "title": "Load Models",
      "bounding": [
        -2410,
        -339,
        969,
        488
      ],
      "color": "#3f789e",
      "font_size": 24
    },
    {
      "title": "Input",
      "bounding": [
        -2409,
        181,
        972,
        523
      ],
      "color": "#3f789e",
      "font_size": 24
    },
    {
      "title": "Output",
      "bounding": [
        464,
        -273,
        741,
        814
      ],
      "color": "#3f789e",
      "font_size": 24
    }
  ],
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.5209868481924381,
      "offset": [
        3416.250859933717,
        212.7698659938928
      ]
    }
  },
  "version": 0.4
}